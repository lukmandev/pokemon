(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{215:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(32),i=a.n(s),r=(a(90),a(3)),o=a(9),d=a(8),l=a(7),u=a.n(l),m=a(15),j=a(4),b=a(79),f=a.n(b).a.create({baseURL:"/api"}),p="favouriteList",O={favouriteList:function(e){var t=localStorage.getItem(p);if(!t)return{};try{try{return JSON.parse(t)}catch(a){return{}}}catch(a){return{}}}(),data:[],dataLoaded:!1,dataHasError:!1},h=Object(j.b)("pokemons/fetchToFavouriteList",function(){var e=Object(m.a)(u.a.mark((function e(t,a){var c,n,s,i,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,n=a.getState,c(L(!1)),c(k(!1)),s={data:n().favouriteList.favouriteList},e.prev=4,e.next=7,f.post("/pokemon/group-pokemons",s);case 7:i=e.sent,r=i.data,c(y(r.pokemons)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),c(L(!0));case 15:return e.prev=15,c(k(!0)),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,12,15,18]])})));return function(t,a){return e.apply(this,arguments)}}()),v=Object(j.c)({name:"favouriteList",initialState:O,reducers:{setFavouriteList:function(e,t){e.favouriteList=t.payload},setData:function(e,t){e.data=t.payload},setDataLoaded:function(e,t){e.dataLoaded=t.payload},setDataError:function(e,t){e.dataHasError=t.payload}}}),x=v.actions,g=x.setFavouriteList,y=x.setData,k=x.setDataLoaded,L=x.setDataError,N=v.reducer,D=Object(j.c)({name:"simpleModal",initialState:{isActive:!1,message:""},reducers:{setModalActive:function(e,t){e.isActive=t.payload},setMessage:function(e,t){e.message=t.payload}}}),w=D.actions,S=w.setModalActive,P=w.setMessage,E=D.reducer,I=Object(j.b)("pokemons/fetchPokemons",function(){var e=Object(m.a)(u.a.mark((function e(t,a){var c,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=a.dispatch)(C(!1)),e.prev=2,e.next=5,f.get("/pokemon/get-all");case 5:n=e.sent,s=n.data,c(q(s.pokemons)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c(F(!0));case 13:return e.prev=13,c(C(!0)),c(_(!1)),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[2,10,13,17]])})));return function(t,a){return e.apply(this,arguments)}}()),A=Object(j.c)({name:"pokemons",initialState:{data:[],dataLoaded:!1,dataHasError:!1,refetch:!1},reducers:{setData:function(e,t){e.data=t.payload},setDataLoaded:function(e,t){e.dataLoaded=t.payload},setDataError:function(e,t){e.dataHasError=t.payload},setRefetch:function(e,t){e.refetch=t.payload}},extraReducers:{}}),M=A.actions,q=M.setData,C=M.setDataLoaded,F=M.setDataError,_=M.setRefetch,H=A.reducer,R=Object(j.b)("pokemons/deletePokemon",function(){var e=Object(m.a)(u.a.mark((function e(t,a){var c,n,s,i,r,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,n=a.getState,s={message:""},c(U(!0)),e.prev=3,i=n(),r=Object(o.a)({},i.favouriteList.favouriteList),d=i.deletePokemon.deletePokemonId,r[d]&&(delete r[d],c(g(r))),e.next=10,f.delete("/pokemon/delete-by-id",{data:{_id:d}});case 10:s.message="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.message="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430";case 16:return e.prev=16,c(P(s.message)),c(S(!0)),c(Q(!1)),c(V(null)),c(U(!1)),c(B(!1)),c(_(!0)),e.finish(16);case 25:case"end":return e.stop()}}),e,null,[[3,13,16,25]])})));return function(t,a){return e.apply(this,arguments)}}()),J=Object(j.c)({name:"deletePokemon",initialState:{modalIsActive:!1,confirmDelete:!1,isLoading:!1,deletePokemonId:null},reducers:{setModalActive:function(e,t){e.modalIsActive=t.payload},setConfirmDelete:function(e,t){e.confirmDelete=t.payload},setIsLoading:function(e,t){e.isLoading=t.payload},setDeletePokemonId:function(e,t){e.deletePokemonId=t.payload}},extraReducers:{}}),T=J.actions,B=T.setModalActive,Q=T.setConfirmDelete,U=T.setIsLoading,V=T.setDeletePokemonId,z=J.reducer,G=a(1),K=function(e){var t=e.item,a=Object(c.useState)(t.img),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(s.title),u=Object(d.a)(l,2),m=u[0],j=u[1],b=Object(r.b)(),f=Object(r.c)((function(e){return e.favouriteList}));return Object(G.jsx)("div",{className:"col-4 d-flex justify-content-center mb-2",children:Object(G.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(G.jsx)("img",{onError:function(){i("https://img.icons8.com/small/452/error.png"),j("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0438")},src:s,alt:m,className:"card-img-top"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("h5",{className:"card-title",children:t.title}),Object(G.jsx)("p",{className:"card-text",children:t.description}),Object(G.jsx)("button",{className:"border-0 p-2 m-1 rounded-circle",onClick:function(){var e=Object(o.a)({},f.favouriteList);e[t._id]?(delete e[t._id],b(g(e))):(e[t._id]=1,b(g(e)))},children:Object(G.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/263/263417.png",style:{width:25,height:25}})}),Object(G.jsx)("button",{className:"border-0 p-2 m-1 rounded-circle",onClick:function(){b(V(t._id)),b(B(!0))},children:Object(G.jsx)("img",{src:"https://image.flaticon.com/icons/png/512/3221/3221897.png",style:{width:25,height:25}})})]})]})})},W=Object(c.memo)(K),X=function(){return Object(G.jsx)("div",{className:"cardItemLoading col-4 d-flex justify-content-center mb-2",children:Object(G.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(G.jsx)("img",{src:"https://i.pinimg.com/originals/a3/41/9e/a3419eab3dc80c75e4024ca22fc64734.jpg",className:"rounded-circle card-img-top"}),Object(G.jsxs)("div",{className:"card-body",children:[Object(G.jsx)("h5",{className:"card-title",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f"}),Object(G.jsx)("p",{className:"card-text",children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quidem culpa adipisci temporibus molestiae autem quas praesentium. Quidem aspernatur minima exercitationem velit harum quaerat quod commodi est vel voluptates? Repellat aut quasi, ratione molestias inventore doloremque repellendus dolorum non culpa, sunt quaerat, debitis labore enim architecto."})]})]})})},Y=function(e){var t=e.message;return Object(G.jsx)("div",{className:"w-100 py-3 px-2",children:Object(G.jsx)("h4",{className:"text-uppercase",children:t})})},Z=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.pokemons}));n.a.useEffect((function(){e(I())}),[]),n.a.useEffect((function(){t.refetch&&e(I())}),[t.refetch]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h2",{children:"\u0412\u0441\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(G.jsx)("div",{className:"row py-4 justify-content-start",children:t.dataLoaded?t.dataHasError?Object(G.jsx)(Y,{message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u043e\u0432"}):t.data.length?t.data.map((function(e){return Object(G.jsx)(W,{item:e},e._id)})):Object(G.jsx)(Y,{message:"\u041f\u043e\u043a\u0435\u043c\u043e\u043d\u043e\u0432 \u043d\u0435\u0442\u0443"}):Array(10).fill(0).map((function(e,t){return Object(G.jsx)(X,{},t)}))})]})},$=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.favouriteList}));n.a.useEffect((function(){var a;e(h()),a=t.favouriteList,localStorage.setItem(p,JSON.stringify(a))}),[t.favouriteList]);return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h2",{children:"\u041b\u044e\u0431\u0438\u043c\u044b\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u044b"}),Object(G.jsx)("div",{className:"row py-4",children:t.dataLoaded?t.dataHasError?Object(G.jsx)(Y,{message:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430"}):t.data.length?t.data.map((function(e){return Object(G.jsx)(W,{item:e},e._id)})):Object(G.jsx)(Y,{message:"\u041d\u0435\u0442\u0443 \u043b\u044e\u0431\u0438\u043c\u044b\u0445 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u043e\u0432"}):Array(10).fill(0).map((function(e,t){return Object(G.jsx)(X,{},t)}))})]})},ee=a(36),te=a(25),ae=a(85),ce=["label"],ne=function(e){var t=e.label,a=Object(ae.a)(e,ce),c=Object(ee.b)(a),n=Object(d.a)(c,2),s=n[0],i=n[1];return Object(G.jsxs)("div",{className:"form-group my-4",children:[Object(G.jsx)("label",{children:t}),Object(G.jsx)("input",Object(o.a)(Object(o.a)({type:"text",className:"form-control"},s),a)),i.touched&&i.error&&Object(G.jsx)("span",{className:"form-text text-muted",children:i.error})]})},se=Object(j.b)("form/addPokemon",function(){var e=Object(m.a)(u.a.mark((function e(t,a){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.dispatch,a.getState,c(oe(!0)),n={message:""},e.prev=3,e.next=6,f.post("/pokemon/add-new",t);case 6:n.message="\u041f\u043e\u043a\u0435\u043c\u043e\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),n.message="\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043a\u0430\u043a\u0430\u044f \u0442\u043e \u043e\u0448\u0438\u0431\u043a\u0430";case 12:return e.prev=12,c(_(!0)),c(de(n.message)),c(oe(!1)),e.finish(12);case 17:case"end":return e.stop()}}),e,null,[[3,9,12,17]])})));return function(t,a){return e.apply(this,arguments)}}()),ie=Object(j.c)({name:"form",initialState:{isLoading:!1,message:""},reducers:{setLoading:function(e,t){e.isLoading=t.payload},setMessage:function(e,t){e.message=t.payload}}}),re=ie.actions,oe=re.setLoading,de=re.setMessage,le=ie.reducer,ue=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.form})),a=te.a({title:te.b().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"),description:te.b().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430"),img:te.b().required("\u042d\u0442\u043e \u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430")});return Object(G.jsxs)("div",{className:"d-block py-3 px-2",children:[Object(G.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}),Object(G.jsx)(ee.a,{initialValues:{title:"",description:"",img:""},validationSchema:a,onSubmit:function(t,a){e(se(t))},children:function(e){var a=e.handleSubmit;return Object(G.jsxs)("form",{onSubmit:a,className:"position-relative",children:[Object(G.jsx)("div",{className:"loading justify-content-center align-items-center ".concat(t.isLoading?"active":""),children:Object(G.jsx)("img",{src:"http://simpleicon.com/wp-content/uploads/loading.png",style:{width:45,height:45},className:"loading-icon"})}),Object(G.jsx)(ne,{name:"title",label:"\u0418\u043c\u044f \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}),Object(G.jsx)(ne,{name:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}),Object(G.jsx)(ne,{name:"img",label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430"}),t.message&&Object(G.jsx)("div",{className:"form-group",children:Object(G.jsx)("span",{children:t.message})}),Object(G.jsx)("button",{type:"submit",className:"btn btn-primary mt-1",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}})]})},me=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return{data:e.pokemons.data,id:e.deletePokemon.deletePokemonId,isActive:e.deletePokemon.modalIsActive,confirmDelete:e.deletePokemon.confirmDelete,isLoading:e.deletePokemon.isLoading}}));Object(c.useEffect)((function(){t.confirmDelete&&e(R())}),[t.confirmDelete]);var a=t.data.find((function(e){return e._id===t.id})),n=a?a.title:"\u041d\u0438\u0447\u0435\u0433\u043e";return Object(G.jsxs)("div",{className:"modal ".concat(t.isActive?"active":""),tabIndex:"-1",role:"dialog",children:[Object(G.jsx)("div",{className:"loading justify-content-center align-items-center ".concat(t.isLoading?"active":"")}),Object(G.jsx)("div",{className:"modal-dialog",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsx)("div",{className:"modal-header",children:Object(G.jsx)("h5",{className:"modal-title",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435"})}),Object(G.jsx)("div",{className:"modal-body",children:Object(G.jsxs)("p",{children:["\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 ",n," ?"]})}),Object(G.jsxs)("div",{className:"modal-footer",children:[Object(G.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e(Q(!0))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(G.jsx)("button",{type:"button",onClick:function(){e(B(!1))},className:"btn btn-secondary","data-dismiss":"modal",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})})]})},je=Object(c.memo)(me),be=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.simpleModal}));n.a.useEffect((function(){t.isActive&&a()}),[t.isActive]);var a=function(){setTimeout((function(){e(S(!1))}),4e3)};return Object(G.jsx)("div",{className:"simpleModal ".concat(t.isActive?"active":""," py-3 px-3 border"),children:Object(G.jsx)("span",{children:t.message})})},fe=function(){return Object(G.jsx)("div",{className:"container-fluid",children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(Z,{}),Object(G.jsx)($,{}),Object(G.jsx)(ue,{}),Object(G.jsx)(je,{}),Object(G.jsx)(be,{})]})})},pe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,216)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))},Oe=a(6),he=Object(j.a)({reducer:{favouriteList:N,form:le,pokemons:H,deletePokemon:z,simpleModal:E},middleware:Object(Oe.a)(Object(j.d)())}),ve=Object(G.jsx)(r.a,{store:he,children:Object(G.jsx)(fe,{})});i.a.render(ve,document.getElementById("root")),pe()},90:function(e,t,a){}},[[215,1,2]]]);
//# sourceMappingURL=main.f060539d.chunk.js.map